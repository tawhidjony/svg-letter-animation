<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>svg letter animation </title>
    <!--Font-->
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@100;200;300;400;500;600;700;800&display=swap" rel="stylesheet">
    <!--Normalize css-->
    <link rel="stylesheet" href="assets/vendors/normalize/css/normalize.css">
    <!--Grid css-->
    <link rel="stylesheet" href="assets//vendors/grid/css/grid.css">
    <!--Custom css-->
    <link rel="stylesheet" href="assets/css/style.css">
    <!--Responsive css-->
    <link rel="stylesheet" href="assets/css/responsive.css">
</head>
<body>
  
    <div class="svg-main-area">
       <div class="svg-inner-area">
            <div class="svg-area-visual">
                <div class="svg-area-visua-typo">
                  <svg id="svg-letter-group" class="svg-letter-group" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 550 550" >
                    <defs>
                        <mask id="mask" >
                          <path id="letter-e" class="letter-e svg-path-letter-color" d="M449.2,113.6H185.7v119.9H422v81.1H185.7v121.9h271.8v81.1h-365v-485h356.7V113.6z"/>
                        </mask>

                        <path id="letter-a" class="letter-a" d="M391.8,415h-237l-43,102.5H15.5l212.7-485h96.3l210,485h-99.8L391.8,415z M358.5,335.3L274,131.6L188,335.3
                        L358.5,335.3z"/>

                        <path id="letter-m" class="letter-m" d="M508.5,517.5h-76.2l-0.6-346.4L302.5,467.6h-54.3L118.9,171.1v346.4H41.5v-485h96.8l137.3,311.1L412.3,32.5
                          h96.2V517.5z" />

                        <path id="letter-e" class="letter-e" d="M449.2,113.6H185.7v119.9H422v81.1H185.7v121.9h271.8v81.1h-365v-485h356.7V113.6z" />

                     </defs>
                       <g id="svg-bg-img" data-url-e="https://funplex.co.jp/wp-content/themes/funplex-corp/assets/images/top-mv-mask-g.jpg" data-url-a="https://funplex.co.jp/wp-content/themes/funplex-corp/assets/images/top-mv-mask-a.jpg" data-url-m="https://funplex.co.jp/wp-content/themes/funplex-corp/assets/images/top-mv-mask-m.jpg" >
                       
                      <image xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="assets/images/1.jpg" x="0" y="0" width="550" height="550" mask="url('#mask')" id="bg-img-svg" preserveAspectRatio="none"></image>
                      </g>
                        
                 </svg>
                </div>
                <div class="slider-bg">
                  <div class="overally-coler-e">
                  </div>
                  <img src="assets/images/1.jpg">
                </div>
                
            </div>
        </div>
    </div>

    <!--html5shiv-->
    <script src="assets/vendors/html5shiv/js/html5shiv.min.js"></script>
    <!--respondjs-->
    <script src="assets/vendors/respondjs/js/respond.min.js"></script>
    <!--selectivizr-->
    <script src="assets/vendors/selectivizr/js/selectivizr-min.js"></script>
    <!-- morph svg -->
    <!-- <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MorphSVGPlugin3.min.js"></script>
    <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/findShapeIndex.js"></script> -->
    <!--Custom js-->
    <script src="assets/js/custom.js"></script>
    <script>
        
        var svgEl       = document.querySelector(".svg-area-visua-typo svg"); 
        var allPath     = svgEl.querySelector('defs').querySelectorAll(":scope > path");
        var gEl         = svgEl.querySelector(":scope > g");
        var imageEl     = gEl.querySelector(":scope > image");
        var currentIndex = 0;
        
        function nextSlide(){  
            if(typeof Array.from(allPath)[currentIndex] === 'undefined' ){ 
                console.log(Array.from(allPath)[currentIndex]);
                currentIndex = 0; 
            }  
            if(Array.from(allPath)[currentIndex] !== 'undefined' ){ 
                let dData = allPath[currentIndex].getAttribute("d");
                svgEl.querySelector("mask path").setAttribute('d', dData); 
                let latterName = allPath[currentIndex].getAttribute('id').replace('letter-', '');
                let attrname = 'data-url-'+latterName;
                let imgeUrl = gEl.getAttribute(attrname);
                
                imageEl.setAttribute('xlink:href', imgeUrl);
            } 
            ++currentIndex;
        }  
        
        setInterval(nextSlide, 3000);

        
    </script>
</body>
</html>